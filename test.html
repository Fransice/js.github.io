<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

<script>
    /*兔头店*/
    var shop = {
            listenList: [], //缓存列表
            addlisten: function(fn) { //增加订阅者
                this.listenList.push(fn);
            },
            trigger: function() { //发布消息
                for (var i = 0, fn; fn = this.listenList[i++];) {
                    fn.apply(this, arguments);
                }
            }
        }
        /*小明订阅了商店*/
    shop.addlisten(function(taste) {
        console.log("通知小明，" + taste + "味道的好了");
    });
    /*小龙订阅了商店*/
    shop.addlisten(function(taste) {
        console.log("通知小龙，" + taste + "味道的好了");
    });
    /*小红订阅了商店*/
    shop.addlisten(function(taste) {
        console.log("通知小红，" + taste + "味道的好了");
    });

    // 发布订阅
    shop.trigger("中辣");


    function add(x, y) {
        return x + y
    }

    // Currying后
    function curryingAdd(x) {
        return function(y) {
            return x + y
        }
    }

    console.log(add(1, 2)) // 3
    curryingAdd(1)(2) // 3
</script>
<style>

</style>

</html>